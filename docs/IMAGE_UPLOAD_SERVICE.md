# æœ¬åœ°å›¾ç‰‡ä¸Šä¼ æœåŠ¡ä½¿ç”¨æŒ‡å—

## åŠŸèƒ½è¯´æ˜

æœ¬æœåŠ¡ä½œä¸º**æµè§ˆå™¨ä¸æ–‡ä»¶ç³»ç»Ÿçš„æ¡¥æ¥**ï¼Œå…è®¸ Docsify ç¼–è¾‘å™¨ç›´æ¥å°†å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ° assets ç›®å½•ï¼Œæ— éœ€æ‰‹åŠ¨æ–‡ä»¶ç®¡ç†ã€‚

**æ ¸å¿ƒå®šä½**ï¼šè¿™ä¸æ˜¯ä¼ ç»Ÿåç«¯æœåŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ¬åœ°å·¥å…·ç»„ä»¶ï¼Œä»…ç”¨äºç»•è¿‡æµè§ˆå™¨å®‰å…¨é™åˆ¶ã€‚

---

## å¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

```bash
pip install flask flask-cors
```

æˆ–ä½¿ç”¨é¡¹ç›® requirements.txtï¼š

```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨æœåŠ¡

åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š

```bash
python scripts/image_upload_service.py
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºæˆåŠŸï¼š

```
============================================================
Image Upload Service
============================================================
Assets Directory: E:\...\output\SC2006\docsify_site\assets
Listening on: http://localhost:8001
Endpoints:
  POST /upload-image  - Upload image
  GET  /health        - Health check
============================================================
Press Ctrl+C to stop
```

### 3. ä½¿ç”¨ç¼–è¾‘å™¨ä¸Šä¼ å›¾ç‰‡

1. åœ¨ Docsify é¡µé¢ç‚¹å‡» "âœï¸ Edit" è¿›å…¥ç¼–è¾‘æ¨¡å¼
2. ç‚¹å‡»å·¥å…·æ çš„ "ğŸ–¼ï¸ Upload Image"
3. é€‰æ‹©å›¾ç‰‡æ–‡ä»¶
4. å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ å¹¶æ’å…¥åˆ°ç¼–è¾‘å™¨

**è‡ªåŠ¨åŒ–æµç¨‹ï¼š**
- âœ… ä¸Šä¼ åˆ° `assets/[æ–‡æ¡£å]/images/`
- âœ… ç”Ÿæˆ markdown é“¾æ¥
- âœ… è‡ªåŠ¨æ’å…¥åˆ°å…‰æ ‡ä½ç½®
- âœ… å®æ—¶æ›´æ–°é¢„è§ˆ

---

## API æ–‡æ¡£

### POST /upload-image

ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶

**è¯·æ±‚å‚æ•°**ï¼š
- `file`: å›¾ç‰‡æ–‡ä»¶ï¼ˆmultipart/form-dataï¼‰
- `document`: æ–‡æ¡£åç§°ï¼ˆå¦‚ `1_-_Introduction.pdf-xxx`ï¼‰

**å“åº”**ï¼š
```json
{
  "success": true,
  "path": "assets/xxx/images/image_1234567890.png",
  "message": "Image saved: image_1234567890.png"
}
```

### GET /health

å¥åº·æ£€æŸ¥

**å“åº”**ï¼š
```json
{
  "status": "running",
  "service": "image-upload"
}
```

---

## ç›®å½•ç»“æ„

```
output/SC2006/docsify_site/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ 1_-_Introduction.pdf-xxx/
â”‚   â”‚   â””â”€â”€ images/
â”‚   â”‚       â””â”€â”€ image_1234567890.png  â† ä¸Šä¼ çš„å›¾ç‰‡
â”‚   â”œâ”€â”€ 2_-_Requirements_Elicitation_1.pdf-xxx/
â”‚   â”‚   â””â”€â”€ images/
â”‚   â””â”€â”€ ...
â””â”€â”€ *.md  â† Markdown æ–‡ä»¶å¼•ç”¨å›¾ç‰‡
```

---

## å¸¸è§é—®é¢˜

### Q: æœåŠ¡æœªè¿è¡Œæ—¶ç‚¹å‡»ä¸Šä¼ ä¼šæ€æ ·ï¼Ÿ

A: è‡ªåŠ¨æç¤ºå¯åŠ¨æœåŠ¡ï¼Œå¹¶æä¾›é™çº§æ–¹æ¡ˆï¼ˆæ‰‹åŠ¨ä¸‹è½½å›¾ç‰‡ï¼‰

### Q: æœåŠ¡éœ€è¦ä¸€ç›´è¿è¡Œå—ï¼Ÿ

A: ä»…åœ¨éœ€è¦ä¸Šä¼ å›¾ç‰‡æ—¶è¿è¡Œå³å¯ï¼Œç¼–è¾‘åå¯ä»¥åœæ­¢ï¼ˆCtrl+Cï¼‰

### Q: å¯ä»¥è¿œç¨‹è®¿é—®å—ï¼Ÿ

A: ä¸æ”¯æŒï¼Œä»…ç›‘å¬ localhostï¼Œç¡®ä¿æœ¬åœ°ä½¿ç”¨å®‰å…¨

### Q: æ”¯æŒå“ªäº›å›¾ç‰‡æ ¼å¼ï¼Ÿ

A: æ‰€æœ‰å¸¸è§æ ¼å¼ï¼ˆPNG, JPG, GIF, SVG ç­‰ï¼‰ï¼Œæœ€å¤§ 10MB

### Q: æ–‡ä»¶åä¼šå†²çªå—ï¼Ÿ

A: ä½¿ç”¨æ—¶é—´æˆ³å‘½åï¼ˆ`image_[æ¯«ç§’æ—¶é—´æˆ³].ext`ï¼‰ï¼ŒåŸºæœ¬ä¸ä¼šå†²çª

---

## æŠ€æœ¯ç»†èŠ‚

- **è¯­è¨€**: Python 3
- **æ¡†æ¶**: Flaskï¼ˆæœ€å°åŒ–é…ç½®ï¼‰
- **ç«¯å£**: 8001
- **CORS**: å…è®¸è·¨åŸŸï¼ˆä»…æœ¬åœ°ï¼‰
- **å¹¶å‘**: å•çº¿ç¨‹ï¼ˆæœ¬åœ°ä½¿ç”¨æ— éœ€å¹¶å‘ï¼‰

---

## åœæ­¢æœåŠ¡

åœ¨è¿è¡ŒæœåŠ¡çš„ç»ˆç«¯ä¸­æŒ‰ `Ctrl+C`

---

## å¼€å‘è¯´æ˜

### ä¿®æ”¹ä¿å­˜è·¯å¾„

ç¼–è¾‘ `scripts/image_upload_service.py`ï¼š

```python
# ç¬¬18è¡Œ
ASSETS_DIR = BASE_DIR / 'output' / 'SC2006' / 'docsify_site' / 'assets'
```

### ä¿®æ”¹ç«¯å£

ç¼–è¾‘ `scripts/image_upload_service.py`ï¼š

```python
# æœ€åä¸€è¡Œ
app.run(host='localhost', port=8001, debug=False)
```

åŒæ—¶ä¿®æ”¹å‰ç«¯ `docsify-editor-upload.js`ï¼š

```javascript
// ç¬¬6è¡Œ
const IMAGE_UPLOAD_SERVICE_URL = 'http://localhost:8001';
```

---

## å®‰å…¨è¯´æ˜

**æœ¬æœåŠ¡ä»…é€‚ç”¨äºæœ¬åœ°å¼€å‘ç¯å¢ƒ**ï¼š

- âŒ æ— èº«ä»½éªŒè¯
- âŒ æ— è®¿é—®æ§åˆ¶
- âŒ æ— æ–‡ä»¶ç±»å‹æ·±åº¦æ£€æŸ¥
- âœ… ä»…ç›‘å¬ localhost
- âœ… ä»…ç”¨äºå¯ä¿¡ç¯å¢ƒ

**ä¸è¦**å°†æ­¤æœåŠ¡éƒ¨ç½²åˆ°å…¬ç½‘ï¼

---

## è®¸å¯è¯

ä¸ä¸»é¡¹ç›®ç›¸åŒ
